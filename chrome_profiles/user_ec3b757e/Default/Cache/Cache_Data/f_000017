(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"20Vn":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("fXoL"),o=n("tk/3");let a=(()=>{class t{constructor(t){this.http=t}list(){return this.http.get("/api/systemdispositions/?page_size=max")}}return t.\u0275fac=function(e){return new(e||t)(i.nc(o.b))},t.\u0275prov=i.Xb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"Kpx/":function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n("0IaG"),o=n("2hNO"),a=n("zBIn"),r=n("N/25"),c=n("Evvo"),s=n("cEtT"),d=n("fXoL"),u=n("dNgK"),l=n("NFeN"),g=n("ofXK"),h=n("bTqV");const p=["fileInput"],f=function(t,e){return{"dropzone-active":t,"file-name":e}};let b=(()=>{class t{constructor(t,e,n,i,o,a,r,c){this.dialogRef=t,this._cdr=e,this._dialog=n,this._userService=i,this._authService=o,this._accountSettingService=a,this._snackBar=r,this._data=c,this.files=new Set,this.csvHeaders=[],this.uploadingFile=!1}ngOnInit(){this._getAccountSettings()}handleFileSelect(t){if(!this._fileIsInvalid(t)){this.csvFile=t[0];try{s.parse(this.csvFile,{header:!0,skipEmptyLines:!0,encoding:"utf-8",step:function(t,e){e.abort()},complete:t=>{this.uploadingFile=!1,t.data.length?(this.hasHeaders=!0,this.dialogRef.close(t),this._showCsvFieldMappingDialog(t)):s.parse(this.csvFile,{skipEmptyLines:!0,encoding:"utf-8",step:function(t,e){e.abort()},complete:t=>{this.hasHeaders=!1,this.dialogRef.close(t),this._showCsvFieldMappingDialog(t)}})}})}catch(e){return void this._snackBar.open("Error Parsing File: Please ensure this is a valid CSV file","X",{duration:2500,verticalPosition:"top",panelClass:"error"})}}}_showCsvFieldMappingDialog(t){this._dialog.open(o.a,{width:"1000px",data:{file:this.csvFile,hasHeaders:this.hasHeaders,fileData:t},autoFocus:!1,panelClass:"dyn-table-no-padding"})}onDragOver(t){t.stopPropagation(),t.preventDefault(),this.hoveringOverDropzone=!0}onDragLeave(t){t.preventDefault(),this.hoveringOverDropzone=!1}onDrop(t){t.preventDefault(),t.dataTransfer.files.length&&(this.uploadingFile=!0,this.hoveringOverDropzone=!1,this.handleFileSelect(t.dataTransfer.files))}showFileSelector(){this.file.nativeElement.click()}_getAccountSettings(){this._userService.get(this._authService.getUserId()).subscribe({next:t=>{this._accountSettingService.getByAccountId(t.account_id).subscribe({next:t=>{this.accountSettings=t}})}})}_fileIsInvalid(t){return t.length>1?(this._snackBar.open("Only 1 File Allowed","X",{duration:2500,verticalPosition:"top",panelClass:["error"]}),!0):!(!t.length||0!=t[0].size||(this._snackBar.open("File is empty","X",{duration:2500,verticalPosition:"top",panelClass:["error"]}),this.file.nativeElement.value=null,0))}}return t.\u0275fac=function(e){return new(e||t)(d.bc(i.g),d.bc(d.i),d.bc(i.b),d.bc(a.a),d.bc(r.a),d.bc(c.a),d.bc(u.a),d.bc(i.a))},t.\u0275cmp=d.Vb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&d.Wc(p,!0),2&t&&d.Lc(n=d.rc())&&(e.file=n.first)},decls:23,vars:7,consts:[[2,"position","absolute","right","10px","top","10px","z-index","9999"],["color","black",1,"dyn-hover",3,"click"],[3,"drop","dragover","dragleave"],["type","file",2,"display","none",3,"change"],["fileInput",""],[1,"dropzone","dyn-m-t-10",3,"ngClass","click"],[1,"dyn-text-center","dyn-p-30"],["src","/assets/img/upload-csv.svg","alt","Upload Audio","height","120px"],[1,"dyn-m-t-20"],[1,"dyn-m-b-10"],["mat-raised-button","","color","primary",1,"dropzone-btn"],[1,"dyn-m-t-10","dyn-text-left"],[1,"dropzone-specifications"],[1,"dropzone-specifications","dyn-m-l-5"]],template:function(t,e){1&t&&(d.ic(0,"div",0),d.ic(1,"mat-icon",1),d.qc("click",(function(){return e.dialogRef.close()})),d.dd(2,"close"),d.hc(),d.hc(),d.ic(3,"div",2),d.qc("drop",(function(t){return e.onDrop(t)}))("dragover",(function(t){return e.onDragOver(t)}))("dragleave",(function(t){return e.onDragLeave(t)})),d.ic(4,"input",3,4),d.qc("change",(function(t){return e.handleFileSelect(t.target.files)})),d.hc(),d.ic(6,"h1"),d.dd(7,"Upload Contacts"),d.hc(),d.ic(8,"div",5),d.qc("click",(function(){return e.showFileSelector()})),d.ic(9,"div",6),d.dc(10,"img",7),d.ic(11,"div",8),d.dd(12,"Drag & Drop"),d.hc(),d.ic(13,"div",9),d.dd(14,"or"),d.hc(),d.ic(15,"button",10),d.dd(16,"Upload File"),d.hc(),d.hc(),d.hc(),d.ic(17,"div",11),d.ic(18,"span",12),d.dd(19,".CSV format only"),d.hc(),d.ic(20,"span",13),d.dd(21),d.vc(22,"number"),d.hc(),d.hc(),d.hc()),2&t&&(d.Pb(8),d.Bc("ngClass",d.Hc(4,f,e.hoveringOverDropzone,e.csvHeaders.length)),d.Pb(13),d.fd(" ",e.accountSettings?d.wc(22,2,e.accountSettings.max_rows_per_csv_import):"300,000"," max lines per import file "))},directives:[l.a,g.n,h.b],pipes:[g.g],styles:[".dropzone-active[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]:hover{border:2px dashed #b0b0b0}.dropzone-active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:1}"]}),t})()},b3De:function(t,e,n){"use strict";n.d(e,"a",(function(){return D}));var i=n("fXoL"),o=n("lJxs"),a=n("Kj3r"),r=n("xgIS"),c=n("tyNb"),s=n("0IaG"),d=n("dNgK"),u=n("ofXK"),l=n("3Pt+"),g=n("Xa2L");const h=["nextBtn"],p=["prevBtn"],f=["currentPageInput"];function b(t,e){1&t&&(i.ic(0,"button",18),i.dd(1,"..."),i.hc())}const P=function(t){return{active:t}};function v(t,e){if(1&t){const t=i.kc();i.ic(0,"button",4),i.qc("click",(function(){i.Qc(t);const e=i.uc();return e.goToPage(e.paginator.second)})),i.dd(1),i.hc()}if(2&t){const t=i.uc();i.Bc("ngClass",i.Gc(3,P,t.currentPage==t.paginator.second))("disabled",t.currentPage===t.paginator.second),i.Pb(1),i.ed(t.paginator.second)}}function m(t,e){if(1&t){const t=i.kc();i.ic(0,"button",4),i.qc("click",(function(){i.Qc(t);const e=i.uc();return e.goToPage(e.paginator.third)})),i.dd(1),i.hc()}if(2&t){const t=i.uc();i.Bc("ngClass",i.Gc(3,P,t.currentPage==t.paginator.third))("disabled",t.currentPage===t.paginator.third),i.Pb(1),i.ed(t.paginator.third)}}function x(t,e){if(1&t){const t=i.kc();i.ic(0,"button",4),i.qc("click",(function(){i.Qc(t);const e=i.uc();return e.goToPage(e.paginator.fourth)})),i.dd(1),i.vc(2,"number"),i.hc()}if(2&t){const t=i.uc();i.Bc("ngClass",i.Gc(5,P,t.currentPage==t.paginator.fourth))("disabled",t.currentPage===t.paginator.fourth),i.Pb(1),i.ed(i.wc(2,3,t.paginator.fourth))}}function C(t,e){if(1&t){const t=i.kc();i.ic(0,"button",4),i.qc("click",(function(){i.Qc(t);const e=i.uc();return e.goToPage(e.paginator.fifth)})),i.dd(1),i.vc(2,"number"),i.hc()}if(2&t){const t=i.uc();i.Bc("ngClass",i.Gc(5,P,t.currentPage==t.paginator.fifth))("disabled",t.currentPage===t.paginator.fifth),i.Pb(1),i.ed(i.wc(2,3,t.paginator.fifth))}}function y(t,e){if(1&t){const t=i.kc();i.ic(0,"button",4),i.qc("click",(function(){i.Qc(t);const e=i.uc();return e.goToPage(e.paginator.sixth)})),i.dd(1),i.vc(2,"number"),i.hc()}if(2&t){const t=i.uc();i.Bc("ngClass",i.Gc(5,P,t.currentPage==t.paginator.sixth))("disabled",t.currentPage===t.paginator.sixth),i.Pb(1),i.ed(i.wc(2,3,t.paginator.sixth))}}function _(t,e){if(1&t){const t=i.kc();i.ic(0,"button",4),i.qc("click",(function(){i.Qc(t);const e=i.uc();return e.goToPage(e.paginator.seventh)})),i.dd(1),i.vc(2,"number"),i.hc()}if(2&t){const t=i.uc();i.Bc("ngClass",i.Gc(5,P,t.currentPage==t.paginator.seventh))("disabled",t.currentPage===t.paginator.seventh),i.Pb(1),i.ed(i.wc(2,3,t.paginator.seventh))}}function k(t,e){1&t&&(i.ic(0,"button",18),i.dd(1,"..."),i.hc())}function B(t,e){if(1&t){const t=i.kc();i.ic(0,"button",19),i.qc("click",(function(){i.Qc(t);const e=i.uc();return e.goToPage(e.paginator.last)})),i.dd(1),i.vc(2,"number"),i.hc()}if(2&t){const t=i.uc();i.Bc("ngClass",i.Gc(4,P,t.currentPage==t.paginator.last)),i.Pb(1),i.ed(i.wc(2,2,t.paginator.last))}}function w(t,e){if(1&t&&(i.ic(0,"span",20),i.dd(1),i.vc(2,"number"),i.hc()),2&t){const t=i.uc();i.Pb(1),i.fd(" Total Results: ",i.wc(2,1,t.totalCount)," ")}}function I(t,e){1&t&&(i.ic(0,"div",21),i.dc(1,"mat-progress-spinner",22),i.dd(2," Loading... "),i.hc())}function O(t,e){if(1&t&&(i.ic(0,"option"),i.dd(1),i.hc()),2&t){const t=e.$implicit;i.Pb(1),i.ed(t)}}let D=(()=>{class t{constructor(t,e,n){this.route=t,this.dialog=e,this.snackBar=n,this.pageSizeOptions=[5,10,25,50,100,250],this.paginator={showLeftDots:!1,showRightDots:!1,first:1,second:null,third:null,fourth:null,fifth:null,sixth:null,seventh:null,last:null},this.goPage=new i.r,this.updatePerPage=new i.r}ngOnInit(){const t=this.nextBtnSub.nativeElement,e=this.prevBtnSub.nativeElement,n=this.currentPageInputSub.nativeElement;this.nextButtonSubscription=Object(r.a)(t,"click").pipe(Object(o.a)(t=>{this.currentPage>=this._getPageCount()||this.currentPage++}),Object(a.a)(400)).subscribe({next:t=>{this.goToPage(this.currentPage)}}),this.prevButtonSubscription=Object(r.a)(e,"click").pipe(Object(o.a)(t=>{1!=this.currentPage&&this.currentPage--}),Object(a.a)(400)).subscribe({next:t=>{this.goToPage(this.currentPage)}}),this.currentPageInputSubscription=Object(r.a)(n,"keyup").pipe(Object(o.a)(t=>{const e=this._getPageCount();return!(!n.value||(n.value%1!=0||n.value<1?(this.snackBar.open("Invalid Value","X",{duration:2500,verticalPosition:"top",panelClass:["error"]}),1):n.value>e&&(this.snackBar.open("Invalid Page Number","X",{duration:2500,verticalPosition:"top",panelClass:["error"]}),1)))}),Object(a.a)(400)).subscribe({next:t=>{t&&this.goToPage(parseInt(n.value))}})}ngOnDestroy(){this.nextButtonSubscription&&this.nextButtonSubscription.unsubscribe(),this.prevButtonSubscription&&this.prevButtonSubscription.unsubscribe()}ngOnChanges(t){let e=!1;t.nextButton&&(this.nextButton=t.nextButton.currentValue),t.prevButton&&(this.prevButton=t.prevButton.currentValue),t.perPage&&(this.perPage=t.perPage.currentValue,e=!0),t.totalCount&&(this.totalCount=t.totalCount.currentValue,e=!0),t.currentPage&&(this.currentPage=t.currentPage.currentValue,e=!0),e&&this._setPaginator()}goToPage(t){const e=this._getPageCount();t>e?this.snackBar.open("Page number must be less than "+e,"X",{duration:2500,verticalPosition:"top",panelClass:["error"]}):this.goPage.emit(t)}updatePageSize(t){const e=t;this.perPage=e,this.updatePerPage.emit(e)}_setPaginator(){const t=this._getPageCount();this.paginator.showLeftDots=this._showLeftDots(),this.paginator.showRightDots=this._showRightDots(),this.paginator.first=1,this.paginator.last=t>1&&this.currentPage!=t?t:null,1==this.currentPage&&(this._resetPaginator(),this.paginator.second=3==t?2:null,t>=4&&(this.paginator.second=2,this.paginator.third=3,this.paginator.fourth=5==t?4:null)),2==this.currentPage&&(this._resetPaginator(),this.paginator.second=2,this.paginator.third=t>=4?3:null,this.paginator.fourth=5==t?4:null),3==this.currentPage&&(this._resetPaginator(),this.paginator.second=2,this.paginator.third=3,this.paginator.fourth=5==t?4:null,t>=6&&(this.paginator.fourth=4,this.paginator.fifth=5,this.paginator.sixth=7==t?6:null)),4==this.currentPage&&(this._resetPaginator(),this.paginator.fourth=4,this.paginator.second=2,this.paginator.third=3,this.paginator.fifth=6==t?5:null,7==t?(this.paginator.fifth=5,this.paginator.sixth=6):t>7&&(this.paginator.fifth=5)),5==this.currentPage&&(this._resetPaginator(),this.paginator.fifth=5,this.paginator.fourth=4,5==t&&(this.paginator.second=2,this.paginator.third=3),this.paginator.sixth=t>=7?6:null,this.paginator.seventh=8==t?7:null),this.currentPage>=6&&(t-this.currentPage>3?(this._resetPaginator(),this.paginator.fourth=this.currentPage-1,this.paginator.fifth=this.currentPage,this.paginator.sixth=this.currentPage+1):t-this.currentPage==3?(this._resetPaginator(),this.paginator.fourth=this.currentPage-1,this.paginator.fifth=this.currentPage,this.paginator.sixth=this.currentPage+1,this.paginator.seventh=this.currentPage+2):t-this.currentPage==2?(this._resetPaginator(),this.paginator.fourth=this.currentPage-1,this.paginator.fifth=this.currentPage,this.paginator.sixth=this.currentPage+1):(this._resetPaginator(),this.paginator.fourth=this.currentPage-1,this.paginator.fifth=this.currentPage))}_resetPaginator(){this.paginator.second=null,this.paginator.third=null,this.paginator.fourth=null,this.paginator.fifth=null,this.paginator.sixth=null,this.paginator.seventh=null}_showLeftDots(){return this._getPageCount()>=6&&this.currentPage>=5}_showRightDots(){return!(this._getPageCount()<=5)&&(this._getPageCount()-this.currentPage>3?!(3==this.currentPage&&7==this._getPageCount()):void 0)}_getPageCount(){return Math.ceil(this.totalCount/this.perPage)}}return t.\u0275fac=function(e){return new(e||t)(i.bc(c.a),i.bc(s.b),i.bc(d.a))},t.\u0275cmp=i.Vb({type:t,selectors:[["paginator"]],viewQuery:function(t,e){var n;1&t&&(i.Wc(h,!0),i.Wc(p,!0),i.Wc(f,!0)),2&t&&(i.Lc(n=i.rc())&&(e.nextBtnSub=n.first),i.Lc(n=i.rc())&&(e.prevBtnSub=n.first),i.Lc(n=i.rc())&&(e.currentPageInputSub=n.first))},inputs:{showPaginationLoader:"showPaginationLoader",hideCount:"hideCount",totalCount:"totalCount",perPage:"perPage",currentPage:"currentPage",prevButton:"prevButton",nextButton:"nextButton"},outputs:{goPage:"goPage",updatePerPage:"updatePerPage"},features:[i.Nb],decls:32,vars:21,consts:[[1,"dyn-m-t-20","dyn-space-between","dyn-flex"],[1,"paginator"],[3,"disabled"],["prevBtn",""],[3,"ngClass","disabled","click"],["class","pagination-dots","disabled","",4,"ngIf"],[3,"ngClass","disabled","click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["nextBtn",""],["class","dyn-text-sm dyn-text-muted dyn-italic dyn-m-l-20",4,"ngIf"],["class","dyn-inline-block dyn-m-l-20",4,"ngIf"],[1,"paginator-page-controls"],[1,"dyn-m-r-20"],[1,"dyn-text-sm"],["type","number","min","1",1,"cp-input",3,"ngModel"],["currentPageInput",""],[1,"per-page-dropdown",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["disabled","",1,"pagination-dots"],[3,"ngClass","click"],[1,"dyn-text-sm","dyn-text-muted","dyn-italic","dyn-m-l-20"],[1,"dyn-inline-block","dyn-m-l-20"],["mode","indeterminate","diameter","20",1,"dyn-inline-block","dyn-vertical-middle","dyn-m-r-5"]],template:function(t,e){1&t&&(i.ic(0,"div",0),i.ic(1,"div",1),i.ic(2,"button",2,3),i.dd(4," \u2190 Previous "),i.hc(),i.ic(5,"button",4),i.qc("click",(function(){return e.goToPage(e.paginator.first)})),i.dd(6),i.hc(),i.bd(7,b,2,0,"button",5),i.bd(8,v,2,5,"button",6),i.bd(9,m,2,5,"button",6),i.bd(10,x,3,7,"button",6),i.bd(11,C,3,7,"button",6),i.bd(12,y,3,7,"button",6),i.bd(13,_,3,7,"button",6),i.bd(14,k,2,0,"button",5),i.bd(15,B,3,6,"button",7),i.ic(16,"button",2,8),i.dd(18," Next \u2192 "),i.hc(),i.bd(19,w,3,3,"span",9),i.bd(20,I,3,0,"div",10),i.hc(),i.ic(21,"div",11),i.ic(22,"span",12),i.ic(23,"span",13),i.dd(24,"Current Page: "),i.hc(),i.dc(25,"input",14,15),i.hc(),i.ic(27,"span"),i.ic(28,"span",13),i.dd(29,"Page Size: "),i.hc(),i.ic(30,"select",16),i.qc("ngModelChange",(function(t){return e.updatePageSize(t)})),i.bd(31,O,2,1,"option",17),i.hc(),i.hc(),i.hc(),i.hc()),2&t&&(i.Pb(2),i.Bc("disabled",!e.prevButton),i.Pb(3),i.Bc("ngClass",i.Gc(19,P,e.currentPage==e.paginator.first))("disabled",e.currentPage===e.paginator.first),i.Pb(1),i.ed(e.paginator.first),i.Pb(1),i.Bc("ngIf",e.paginator.showLeftDots),i.Pb(1),i.Bc("ngIf",e.paginator.second),i.Pb(1),i.Bc("ngIf",e.paginator.third),i.Pb(1),i.Bc("ngIf",e.paginator.fourth),i.Pb(1),i.Bc("ngIf",e.paginator.fifth),i.Pb(1),i.Bc("ngIf",e.paginator.sixth),i.Pb(1),i.Bc("ngIf",e.paginator.seventh),i.Pb(1),i.Bc("ngIf",e.paginator.showRightDots),i.Pb(1),i.Bc("ngIf",e.paginator.last),i.Pb(1),i.Bc("disabled",!e.nextButton),i.Pb(3),i.Bc("ngIf",!1===e.hideCount||void 0===e.hideCount),i.Pb(1),i.Bc("ngIf",e.showPaginationLoader),i.Pb(5),i.Bc("ngModel",e.currentPage),i.Pb(5),i.Bc("ngModel",e.perPage),i.Pb(1),i.Bc("ngForOf",e.pageSizeOptions))},directives:[u.n,u.p,l.u,l.d,l.p,l.s,l.y,u.o,g.a,l.t,l.A],pipes:[u.g],styles:["button[_ngcontent-%COMP%]{padding:5px 10px;background:#fff;border:1px solid #ddd;outline:none;margin:0 1px;cursor:pointer}button.active[_ngcontent-%COMP%]{background:#3a8bff;color:#fff;outline:none;cursor:not-allowed}button.pagination-dots[_ngcontent-%COMP%]{border-color:#f1f1f1;cursor:not-allowed}button[_ngcontent-%COMP%]:hover{background:#eff3f6}button.active[_ngcontent-%COMP%]:hover{background:#3a8bff}.cp-input[_ngcontent-%COMP%]{min-width:60px!important;width:80px!important}.per-page-dropdown[_ngcontent-%COMP%]{min-width:auto!important;width:70px!important}"]}),t})()},hn12:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var i=n("0IaG"),o=n("5+WD"),a=n("+3se"),r=n("Z181"),c=n("fXoL"),s=n("dNgK"),d=n("NFeN"),u=n("3Pt+"),l=n("ofXK"),g=n("bTqV"),h=n("vxfF"),p=n("Xa2L");function f(t,e){if(1&t&&(c.ic(0,"option",4),c.dd(1),c.hc()),2&t){const t=c.uc().$implicit;c.Bc("ngValue",t.name),c.Pb(1),c.fd(" ",t.label," ")}}function b(t,e){if(1&t&&(c.gc(0),c.bd(1,f,2,2,"option",16),c.fc()),2&t){const t=e.$implicit,n=c.uc();c.Pb(1),c.Bc("ngIf",!n.selectedColumns.includes(t.name))}}function P(t,e){1&t&&c.dc(0,"div",23)}function v(t,e){1&t&&c.dc(0,"hr",24)}function m(t,e){if(1&t){const t=c.kc();c.gc(0),c.ic(1,"div",17),c.ic(2,"div",18),c.ic(3,"div",9),c.bd(4,P,1,0,"div",19),c.ic(5,"div"),c.ic(6,"mat-icon",20),c.dd(7,"drag_indicator"),c.hc(),c.dd(8),c.vc(9,"titlecase"),c.hc(),c.hc(),c.hc(),c.ic(10,"div"),c.ic(11,"mat-icon",21),c.qc("click",(function(){c.Qc(t);const n=e.index;return c.uc().removeSelectedColumn(n)})),c.dd(12,"close"),c.hc(),c.hc(),c.hc(),c.bd(13,v,1,0,"hr",22),c.fc()}if(2&t){const t=e.$implicit,n=e.last,i=c.uc();c.Pb(1),c.Bc("cdkDragData",t),c.Pb(7),c.fd(" ",c.wc(9,3,i.utils.removeUnderscores(t))," "),c.Pb(5),c.Bc("ngIf",!n)}}function x(t,e){1&t&&c.dc(0,"mat-progress-spinner",25)}let C=(()=>{class t{constructor(t,e,n,i,o,a){this._snackBar=t,this._utils=e,this._userPreferenceService=n,this.utils=i,this.dialogRef=o,this.data=a,this.saving=!1,this.selectedColumn=null,this.columns=this._utils.sortBy(a.allColumns,"name"),this.selectedColumns=a.selectedColumns}removeSelectedColumn(t){1!==this.selectedColumns.length?this.selectedColumns.splice(t,1):this._snackBar.open("At least one column is required","",{duration:3e3,verticalPosition:"top",panelClass:"error"})}addTableColumn(){this.selectedColumn&&(this.selectedColumns.push(this.selectedColumn),this.selectedColumn=null)}onSubmit(){this.saving=!0,setTimeout(()=>{this.dialogRef.close(this.selectedColumns)},1e3)}onItemDropped(t){const e=t.item.data,n=t.currentIndex;Object(o.h)(t.container.data,t.previousIndex,t.currentIndex);const i=this.selectedColumns.findIndex(t=>t===e.key);-1!==i&&(this.selectedColumns.splice(i,1),this.selectedColumns.splice(n,0,e.key))}}return t.\u0275fac=function(e){return new(e||t)(c.bc(s.a),c.bc(a.a),c.bc(r.a),c.bc(a.a),c.bc(i.g),c.bc(i.a))},t.\u0275cmp=c.Vb({type:t,selectors:[["ng-component"]],decls:31,vars:7,consts:[[2,"position","absolute","right","10px","top","10px","z-index","9999"],["color","black",1,"dyn-hover",3,"click"],[1,"dyn-flex","dyn-space-between","dyn-m-t-5"],[1,"dyn-m-r-10",2,"height","35px",3,"ngModel","ngModelChange"],[3,"ngValue"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],[1,"dyn-vertical-middle"],[1,"dyn-m-t-0","dyn-m-b-10"],[1,"dyn-flex","dyn-space-between"],[1,"dyn-rounded-btn","dyn-m-b-10"],["cdkScrollable","",2,"max-height","380px","overflow","auto"],["cdkDropList","",1,"example-list",3,"cdkDropListData","cdkDropListDropped"],["mat-stroked-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"disabled","click"],["diameter","20","mode","indeterminate","class","dyn-inline-block dyn-m-r-10 dyn-vertical-middle",4,"ngIf"],[3,"ngValue",4,"ngIf"],["cdkDrag","",1,"example-box","dyn-relative","dyn-p-l-5","dyn-p-r-10",3,"cdkDragData"],[1,"dyn-text-sm","dyn-full-width","dyn-cursor-drag",2,"word-break","break-word"],["class","example-custom-placeholder",4,"cdkDragPlaceholder"],[1,"dyn-vertical-middle","dyn-icon-sm","dyn-hover"],[1,"dyn-icon-sm","dyn-hover",2,"position","absolute","right","10px","top","11px",3,"click"],["class","dyn-m-0",4,"ngIf"],[1,"example-custom-placeholder"],[1,"dyn-m-0"],["diameter","20","mode","indeterminate",1,"dyn-inline-block","dyn-m-r-10","dyn-vertical-middle"]],template:function(t,e){1&t&&(c.ic(0,"div",0),c.ic(1,"mat-icon",1),c.qc("click",(function(){return e.dialogRef.close()})),c.dd(2,"close"),c.hc(),c.hc(),c.ic(3,"div",2),c.ic(4,"h1"),c.dd(5,"Edit Table"),c.hc(),c.ic(6,"div"),c.ic(7,"label"),c.dd(8,"Columns"),c.hc(),c.dc(9,"br"),c.ic(10,"select",3),c.qc("ngModelChange",(function(t){return e.selectedColumn=t})),c.dc(11,"option",4),c.bd(12,b,2,1,"ng-container",5),c.hc(),c.ic(13,"button",6),c.qc("click",(function(){return e.addTableColumn()})),c.ic(14,"mat-icon",7),c.dd(15,"add"),c.hc(),c.dd(16," Add Column "),c.hc(),c.hc(),c.hc(),c.dc(17,"hr",8),c.ic(18,"div",9),c.ic(19,"div",10),c.dd(20,"Organize Table Columns"),c.hc(),c.hc(),c.ic(21,"div",11),c.ic(22,"div",12),c.qc("cdkDropListDropped",(function(t){return e.onItemDropped(t)})),c.bd(23,m,14,5,"ng-container",5),c.hc(),c.hc(),c.dc(24,"hr"),c.ic(25,"div",9),c.ic(26,"button",13),c.dd(27,"Cancel"),c.hc(),c.ic(28,"button",14),c.qc("click",(function(){return e.onSubmit()})),c.bd(29,x,1,0,"mat-progress-spinner",15),c.dd(30," Save "),c.hc(),c.hc()),2&t&&(c.Pb(10),c.Bc("ngModel",e.selectedColumn),c.Pb(1),c.Bc("ngValue",null),c.Pb(1),c.Bc("ngForOf",e.columns),c.Pb(10),c.Bc("cdkDropListData",e.selectedColumns),c.Pb(1),c.Bc("ngForOf",e.selectedColumns),c.Pb(5),c.Bc("disabled",e.saving),c.Pb(1),c.Bc("ngIf",e.saving))},directives:[d.a,u.y,u.p,u.s,u.t,u.A,l.o,g.b,h.a,o.e,i.d,l.p,o.a,o.c,p.a],pipes:[l.y],styles:[".cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:1!important}.example-box[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;background:#fff}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#f1f1f1;border:3px dotted #ccc;min-height:34px;transition:transform .25s cubic-bezier(0,0,.2,1)}.loading-overlay[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.5215686274509804);position:absolute;left:0;top:0;bottom:0;right:0;z-index:8}.loading-overlay[_ngcontent-%COMP%]   .saving-message[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;transform:translateY(-50%);height:20px;width:100%}"]}),t})()},"pN+a":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("fXoL"),o=n("tk/3");let a=(()=>{class t{constructor(t){this.http=t}list(t,e){return this.http.get(e?`/api/livefilters/?page=${e}&page_size=${t}`:`/api/livefilters/?page_size=${t}&ordering=name`)}get(t){return this.http.get(`/api/livefilters/${t}/`)}getActiveLiveFilters(){return this.http.get("/api/livefilters/?page_size=max&active=true")}getCount(t,e,n){return t?this.http.get(`/api/livefiltercounts/${t}/${n?"?ignore_time_zone=True":""}`):this.http.post("/api/livefiltercounts/"+(n?"?ignore_time_zone=True":""),e)}getAnytimeCount(t){return this.http.get(`/api/livefiltercounts/${t}/?ignore_time_zone=True`)}create(t){return this.http.post("/api/livefilters/",t)}delete(t){return this.http.delete(`/api/livefilters/${t}/`)}update(t){return this.http.patch(`/api/livefilters/${t.id}/`,t)}updateReady(t){return this.http.patch(`/api/livefilters/${t.id}/updateready/`,{})}getContactPreviewIds(t){return this.http.get(`/api/livefilters/${t}/query/`)}}return t.\u0275fac=function(e){return new(e||t)(i.nc(o.b))},t.\u0275prov=i.Xb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);