(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{bBQQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n("fXoL");let o=(()=>{class e{constructor(e){this.rendererFactory=e,this._darkModeEnabled=!1,this.renderer=this.rendererFactory.createRenderer(null,null);const t=localStorage.getItem("dark-mode-enabled");this._darkModeEnabled="true"===t,this.updateThemeClass()}enableDarkMode(){this.darkMode=!0,this.updateThemeClass(),localStorage.setItem("dark-mode-enabled","true")}disableDarkMode(){this.darkMode=!1,this.updateThemeClass(),localStorage.setItem("dark-mode-enabled","false")}get darkModeEnabled(){return this._darkModeEnabled}set darkMode(e){this._darkModeEnabled=e,localStorage.setItem("dark-mode-enabled",e.toString())}updateThemeClass(){this._darkModeEnabled?this.renderer.addClass(document.body,"dark-theme"):this.renderer.removeClass(document.body,"dark-theme")}}return e.\u0275fac=function(t){return new(t||e)(c.nc(c.R))},e.\u0275prov=c.Xb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},f1Ku:function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));var c=n("N/25"),o=n("NkwR"),i=n("KXSB"),a=n("R0Ic"),r=n("VxG0"),s=n("M4Aq"),u=n("bBQQ"),d=n("fXoL"),g=n("dNgK"),l=n("tyNb"),v=n("ofXK"),b=n("bTqV"),m=n("Qu3c"),p=n("STbY"),h=n("NFeN");const f=function(e,t){return{active:e,alert:t}};function S(e,t){if(1&e){const e=d.kc();d.ic(0,"button",4),d.qc("click",(function(){return d.Qc(e),d.uc(2).changeTopSection("conversations")})),d.dd(1," SMS "),d.hc()}if(2&e){const e=d.uc(2);d.Bc("disabled","conversations"===e.agentNavService.activeTopSectionSubject.value)("ngClass",d.Hc(2,f,"conversations"===e.agentNavService.activeTopSectionSubject.value,e.agentNavService.showAgentConversationAlert))}}const _=function(e){return{active:e}};function M(e,t){if(1&e){const e=d.kc();d.ic(0,"button",4),d.qc("click",(function(){return d.Qc(e),d.uc(2).changeTopSection("recent-calls")})),d.dd(1,"Recent Calls"),d.hc()}if(2&e){const e=d.uc(2);d.Bc("disabled","recent-calls"===e.agentNavService.activeTopSectionSubject.value)("ngClass",d.Gc(2,_,"recent-calls"===e.agentNavService.activeTopSectionSubject.value))}}function P(e,t){if(1&e){const e=d.kc();d.ic(0,"button",4),d.qc("click",(function(){return d.Qc(e),d.uc(2).changeTopSection("voicemails")})),d.dd(1,"Voice Mails"),d.hc()}if(2&e){const e=d.uc(2);d.Bc("disabled","voicemails"===e.agentNavService.activeTopSectionSubject.value)("ngClass",d.Hc(2,f,"voicemails"===e.agentNavService.activeTopSectionSubject.value,e.agentNavService.showAgentVoicemailAlert))}}function k(e,t){if(1&e){const e=d.kc();d.ic(0,"button",4),d.qc("click",(function(){return d.Qc(e),d.uc(2).changeTopSection("calendar-events")})),d.dd(1,"Calendar Events"),d.hc()}if(2&e){const e=d.uc(2);d.Bc("disabled","calendar-events"===e.agentNavService.activeTopSectionSubject.value)("ngClass",d.Hc(2,f,"calendar-events"===e.agentNavService.activeTopSectionSubject.value,e.agentNavService.showAgentCalendarEventAlert))}}function C(e,t){if(1&e){const e=d.kc();d.ic(0,"button",4),d.qc("click",(function(){return d.Qc(e),d.uc(2).changeTopSection("agent-leaderboard")})),d.dd(1,"Leaderboard"),d.hc()}if(2&e){const e=d.uc(2);d.Bc("disabled","agent-leaderboard"===e.agentNavService.activeTopSectionSubject.value)("ngClass",d.Gc(2,_,"agent-leaderboard"===e.agentNavService.activeTopSectionSubject.value))}}function O(e,t){if(1&e&&(d.gc(0),d.ic(1,"button",24),d.dd(2," Manager Dashboard "),d.ic(3,"mat-icon"),d.dd(4,"chevron_right"),d.hc(),d.hc(),d.dc(5,"hr",11),d.fc()),2&e){const e=d.uc(2);d.Pb(1),d.Bc("routerLink",e.previousManagerUrl?e.previousManagerUrl:"/manager")}}function T(e,t){if(1&e){const e=d.kc();d.ic(0,"button",16),d.qc("click",(function(){return d.Qc(e),d.uc(2).agentDarkModeService.enableDarkMode()})),d.ic(1,"mat-icon"),d.dd(2,"dark_mode"),d.hc(),d.dd(3," Dark Mode "),d.hc()}}function x(e,t){if(1&e){const e=d.kc();d.ic(0,"button",16),d.qc("click",(function(){return d.Qc(e),d.uc(2).agentDarkModeService.disableDarkMode()})),d.ic(1,"mat-icon"),d.dd(2,"light_mode"),d.hc(),d.dd(3," Light Mode "),d.hc()}}function B(e,t){1&e&&(d.ic(0,"button",25),d.dd(1,"Admin"),d.hc())}function N(e,t){if(1&e){const e=d.kc();d.ic(0,"button",20),d.qc("click",(function(){return d.Qc(e),d.uc(2).changeTopSection("conversations")})),d.dd(1," Conversations "),d.hc()}if(2&e){const e=d.uc(2);d.Bc("ngClass",d.Hc(1,f,"conversations"===e.agentNavService.activeTopSectionSubject.value,e.agentNavService.showAgentConversationAlert))}}function y(e,t){if(1&e){const e=d.kc();d.ic(0,"button",20),d.qc("click",(function(){return d.Qc(e),d.uc(2).changeTopSection("recent-calls")})),d.dd(1,"Recent Calls"),d.hc()}if(2&e){const e=d.uc(2);d.Bc("ngClass",d.Gc(1,_,"recent-calls"===e.agentNavService.activeTopSectionSubject.value))}}function j(e,t){if(1&e){const e=d.kc();d.ic(0,"button",20),d.qc("click",(function(){return d.Qc(e),d.uc(2).changeTopSection("voicemails")})),d.dd(1,"Voice Mails"),d.hc()}if(2&e){const e=d.uc(2);d.Bc("ngClass",d.Gc(1,_,"voicemails"===e.agentNavService.activeTopSectionSubject.value))}}function w(e,t){if(1&e){const e=d.kc();d.ic(0,"button",20),d.qc("click",(function(){return d.Qc(e),d.uc(2).changeTopSection("calendar-events")})),d.dd(1,"Calendar Events"),d.hc()}if(2&e){const e=d.uc(2);d.Bc("ngClass",d.Gc(1,_,"calendar-events"===e.agentNavService.activeTopSectionSubject.value))}}function I(e,t){if(1&e){const e=d.kc();d.ic(0,"button",20),d.qc("click",(function(){return d.Qc(e),d.uc(2).changeTopSection("agent-leaderboard")})),d.dd(1,"Agent Leaderboard"),d.hc()}if(2&e){const e=d.uc(2);d.Bc("ngClass",d.Gc(1,_,"agent-leaderboard"===e.agentNavService.activeTopSectionSubject.value))}}function q(e,t){if(1&e){const e=d.kc();d.ic(0,"div",1),d.ic(1,"div",2),d.dc(2,"img",3),d.ic(3,"button",4),d.qc("click",(function(){return d.Qc(e),d.uc().changeTopSection("dashboard")})),d.dd(4,"Dashboard"),d.hc(),d.ic(5,"button",4),d.qc("click",(function(){return d.Qc(e),d.uc().changeTopSection("campaigns-queues")})),d.dd(6,"Campaigns & Queues"),d.hc(),d.bd(7,S,2,5,"button",5),d.ic(8,"div",6),d.ic(9,"button",4),d.qc("click",(function(){return d.Qc(e),d.uc().changeTopSection("contacts")})),d.dd(10,"Contacts"),d.hc(),d.hc(),d.bd(11,M,2,4,"button",5),d.bd(12,P,2,5,"button",5),d.bd(13,k,2,5,"button",5),d.bd(14,C,2,4,"button",5),d.hc(),d.ic(15,"div"),d.ic(16,"button",7),d.dd(17),d.ic(18,"mat-icon",8),d.dd(19,"keyboard_arrow_down"),d.hc(),d.hc(),d.ic(20,"mat-menu",null,9),d.ic(22,"div",10),d.dd(23),d.hc(),d.dc(24,"hr",11),d.bd(25,O,6,1,"ng-container",12),d.bd(26,T,4,0,"button",13),d.bd(27,x,4,0,"button",13),d.bd(28,B,2,0,"button",14),d.ic(29,"button",15),d.dd(30,"User Profile Settings"),d.hc(),d.ic(31,"button",16),d.qc("click",(function(){return d.Qc(e),d.uc().logout()})),d.dd(32,"Logout"),d.hc(),d.hc(),d.ic(33,"button",17),d.ic(34,"mat-icon",18),d.dd(35,"menu"),d.hc(),d.hc(),d.ic(36,"mat-menu",null,19),d.ic(38,"button",20),d.qc("click",(function(){return d.Qc(e),d.uc().changeTopSection("dashboard")})),d.dd(39,"Dashboard"),d.hc(),d.ic(40,"button",20),d.qc("click",(function(){return d.Qc(e),d.uc().changeTopSection("campaigns-queues")})),d.dd(41,"Campaigns & Queues"),d.hc(),d.bd(42,N,2,4,"button",21),d.ic(43,"div",22),d.ic(44,"button",23),d.qc("click",(function(){return d.Qc(e),d.uc().changeTopSection("contacts")})),d.dd(45,"Contacts"),d.hc(),d.hc(),d.bd(46,y,2,3,"button",21),d.bd(47,j,2,3,"button",21),d.bd(48,w,2,3,"button",21),d.bd(49,I,2,3,"button",21),d.hc(),d.hc(),d.hc()}if(2&e){const e=d.Mc(21),t=d.Mc(37),n=d.uc();d.Pb(3),d.Bc("disabled","dashboard"===n.agentNavService.activeTopSectionSubject.value)("ngClass",d.Gc(30,_,"dashboard"===n.agentNavService.activeTopSectionSubject.value)),d.Pb(2),d.Bc("disabled","campaigns-queues"===n.agentNavService.activeTopSectionSubject.value)("ngClass",d.Gc(32,_,"campaigns-queues"===n.agentNavService.activeTopSectionSubject.value)),d.Pb(2),d.Bc("ngIf",n.permissionService.hasPermission("sms_conversations_page")),d.Pb(1),d.Bc("matTooltipDisabled",n.permissionService.hasPermission("contacts_page")),d.Pb(1),d.Bc("disabled",!n.permissionService.hasPermission("contacts_page")||"contacts"===n.agentNavService.activeTopSectionSubject.value)("ngClass",d.Gc(34,_,"contacts"===n.agentNavService.activeTopSectionSubject.value)),d.Pb(2),d.Bc("ngIf",n.permissionService.hasPermission("recent_calls_agent_page")),d.Pb(1),d.Bc("ngIf",n.permissionService.hasPermission("voice_mail_messages_page")),d.Pb(1),d.Bc("ngIf",n.permissionService.hasPermission("calendar_events_page")),d.Pb(1),d.Bc("ngIf",n.agentAccountSettingService.accountSettings&&n.agentAccountSettingService.accountSettings.show_agent_leaderboard&&n.permissionService.hasPermission("agent_leaderboard_report_read")),d.Pb(2),d.Bc("matMenuTriggerFor",e),d.Pb(1),d.fd(" ",n.authService.getUsername()," "),d.Pb(6),d.fd(" Support ID: ",n.authService.currentUserAccount?"500"+n.authService.currentUserAccount.id:""," "),d.Pb(2),d.Bc("ngIf",n.authService.isUserManager()),d.Pb(1),d.Bc("ngIf",!(null!=n.agentDarkModeService&&n.agentDarkModeService.darkModeEnabled)),d.Pb(1),d.Bc("ngIf",null==n.agentDarkModeService?null:n.agentDarkModeService.darkModeEnabled),d.Pb(1),d.Bc("ngIf",n.authService.currentUser.value&&n.authService.currentUser.value.is_staff),d.Pb(5),d.Bc("mat-menu-trigger-for",t),d.Pb(5),d.Bc("ngClass",d.Gc(36,_,"dashboard"===n.agentNavService.activeTopSectionSubject.value)),d.Pb(2),d.Bc("ngClass",d.Gc(38,_,"campaigns-queues"===n.agentNavService.activeTopSectionSubject.value)),d.Pb(2),d.Bc("ngIf",n.permissionService.hasPermission("sms_conversations_page")),d.Pb(1),d.Bc("matTooltipDisabled",n.permissionService.hasPermission("contacts_read")),d.Pb(1),d.Bc("disabled",!n.permissionService.hasPermission("contacts_read"))("ngClass",d.Gc(40,_,"contacts"===n.agentNavService.activeTopSectionSubject.value)),d.Pb(2),d.Bc("ngIf",n.permissionService.hasPermission("recent_calls_agent_page")),d.Pb(1),d.Bc("ngIf",n.permissionService.hasPermission("voice_mail_messages_page")),d.Pb(1),d.Bc("ngIf",n.permissionService.hasPermission("calendar_events_page")),d.Pb(1),d.Bc("ngIf",n.agentAccountSettingService.accountSettings&&n.agentAccountSettingService.accountSettings.show_agent_leaderboard&&n.permissionService.hasPermission("agent_leaderboard_report_read"))}}let Q=(()=>{class e{constructor(e,t,n,c,o,i,a,r){this._accountMembershipService=e,this._snackBar=t,this.agentDarkModeService=n,this.agentAccountSettingService=c,this.authService=o,this.router=i,this.permissionService=a,this.agentNavService=r,this.previousManagerUrl="",this.accountMemberships=[],this.accountMembershipMap=[]}ngOnInit(){this.loggedInSubscription=this.authService.isLoggedInObs().subscribe(e=>{e&&this._accountMembershipService.getAccountMemberships().subscribe({next:e=>{this.accountMemberships=e.results,e.results.forEach(e=>{this.accountMembershipMap[e.account_uuid.replace(/-/g,"")]=e.account_name})}})})}ngOnDestroy(){this.loggedInSubscription.unsubscribe()}changeTopSection(e){"contacts"!==e||this.permissionService.hasPermission("contacts_page")?("/agent"!==this.router.url&&this.router.navigate(["/agent"]),this.agentNavService.activeTopSectionSubject.next(e)):this._snackBar.open("You do not have permission to view contacts.","X",{duration:5e3,verticalPosition:"top",panelClass:"error"})}logout(){this.authService.logout(),this.authService.clearTokens(),this.router.navigate(["login"])}}return e.\u0275fac=function(t){return new(t||e)(d.bc(i.a),d.bc(g.a),d.bc(u.a),d.bc(s.a),d.bc(c.a),d.bc(l.g),d.bc(r.a),d.bc(o.a))},e.\u0275cmp=d.Vb({type:e,selectors:[["agent-top-nav"]],decls:1,vars:1,consts:[["class","dyn-flex dyn-space-between dyn-align-items top-nav agent-top-nav",4,"ngIf"],[1,"dyn-flex","dyn-space-between","dyn-align-items","top-nav","agent-top-nav"],[1,"top-menu-items"],["src","/assets/img/calltools-logo.svg",1,"logo","dyn-m-r-30"],["mat-button","",3,"disabled","ngClass","click"],["mat-button","",3,"disabled","ngClass","click",4,"ngIf"],["matTooltip","You must have the 'contacts_page permission to view contacts",1,"dyn-inline-block",3,"matTooltipDisabled"],["mat-button","",1,"user-icon",3,"matMenuTriggerFor"],[1,"dyn-p-l-10"],["accountMenu","matMenu"],[1,"dyn-text-center",2,"font-size",".8rem","padding","8px 0","color","#727e94"],[1,"dyn-m-0"],[4,"ngIf"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","","routerLink","/admin","routerLinkActive","active",4,"ngIf"],["mat-menu-item","","routerLink","/user-profile-settings","routerLinkActive","active"],["mat-menu-item","",3,"click"],["mat-icon-button","",1,"agent-mobile-menu-icon",3,"mat-menu-trigger-for"],[2,"color","#fff"],["mobileAgentMenu","matMenu"],["mat-menu-item","",3,"ngClass","click"],["mat-menu-item","",3,"ngClass","click",4,"ngIf"],["matTooltip","You must have the 'contacts_read permission to view contacts",1,"dyn-inline-block",3,"matTooltipDisabled"],["mat-menu-item","",3,"disabled","ngClass","click"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","","routerLink","/admin","routerLinkActive","active"]],template:function(e,t){1&e&&d.bd(0,q,50,42,"div",0),2&e&&d.Bc("ngIf",(t.router.url.startsWith("/agent")||t.router.url.startsWith("/user-profile-settings"))&&t.authService.isUserAgent())},directives:[v.p,b.b,v.n,m.a,p.e,h.a,p.f,p.c,l.h,l.i],styles:['button.mat-menu-item.active[_ngcontent-%COMP%]{background:#f1f1f1!important}.top-nav[_ngcontent-%COMP%]{background:#2f3b43;padding:10px 20px;box-sizing:border-box}.top-nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child   button[_ngcontent-%COMP%]{color:#fff}.top-nav[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:32px;margin-right:20px;vertical-align:middle}.top-nav[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{background:hsla(0,0%,100%,0);border-radius:5px!important;color:#fff;padding:4px 15px 4px 20px;border:1px solid hsla(0,0%,100%,.30196078431372547);cursor:pointer}.top-nav[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:first-child{color:#cbd4da}.top-nav[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]:hover{border-color:#fff}.top-nav[_ngcontent-%COMP%]   .desktop-menu[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{font-size:.9rem;padding:0 15px;border-radius:0;opacity:.5}.top-nav[_ngcontent-%COMP%]   .desktop-menu[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]:hover{opacity:1}.top-nav[_ngcontent-%COMP%]   .desktop-menu[_ngcontent-%COMP%]   .mat-button.active[_ngcontent-%COMP%]{opacity:1;border:1px solid #fff}.top-nav[_ngcontent-%COMP%]   #mobile-menu[_ngcontent-%COMP%]{display:none}.top-nav[_ngcontent-%COMP%]   .newTaskAlert[_ngcontent-%COMP%]{background:red;color:#fff;width:18px;height:18px;display:inline-block;position:absolute;border-radius:100px;top:0;right:0;font-size:.6rem;font-weight:800;line-height:18px}.agent-top-nav[_ngcontent-%COMP%]   .desktop-menu[_ngcontent-%COMP%]   .mat-button.active[_ngcontent-%COMP%]{border:1px solid #fff;color:#fff}.agent-top-nav[_ngcontent-%COMP%]   .top-menu-items[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{color:#9ca1aa;font-size:.9rem;padding:0 10px}.agent-top-nav[_ngcontent-%COMP%]   .top-menu-items[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]:hover{color:#fff}.agent-top-nav[_ngcontent-%COMP%]   .top-menu-items[_ngcontent-%COMP%]   .mat-button.active[_ngcontent-%COMP%]{color:#fff}.agent-top-nav[_ngcontent-%COMP%]   .top-menu-items[_ngcontent-%COMP%]   .mat-button.alert[_ngcontent-%COMP%]:before{content:"NEW";position:absolute;border-radius:100px;background:red;top:-5px;right:5px;font-size:.5rem;text-align:center;line-height:13px;padding:1px 6px;color:#fff}.agent-mobile-menu-icon[_ngcontent-%COMP%], .manager-mobile-menu-icon[_ngcontent-%COMP%]{display:none}@media (max-width:1290px){.agent-top-nav[_ngcontent-%COMP%]   .top-menu-items[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{font-size:.8rem}.agent-top-nav[_ngcontent-%COMP%]   .top-menu-items[_ngcontent-%COMP%]{display:inline-block}}@media (max-width:1200px){.agent-top-nav[_ngcontent-%COMP%]   .top-menu-items[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{font-size:.75rem}}@media (max-width:1150px){.agent-top-nav[_ngcontent-%COMP%]   .top-menu-items[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{font-size:.75rem;padding-right:5px!important;padding-left:5px!important}}@media (max-width:1000px){.agent-mobile-menu-icon[_ngcontent-%COMP%]{display:inline-block}.agent-top-nav[_ngcontent-%COMP%]   .top-menu-items[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{display:none}}'],data:{animation:[Object(a.o)("slideInOut",[Object(a.n)(":enter",[Object(a.m)({height:0,opacity:0,overflow:"hidden"}),Object(a.e)("200ms ease-out",Object(a.m)({height:"*",opacity:1,overflow:"hidden"}))]),Object(a.n)(":leave",[Object(a.m)({height:"*",opacity:1,overflow:"hidden"}),Object(a.e)("200ms ease-in",Object(a.m)({height:0,opacity:0,overflow:"hidden"}))])])]}}),e})()}}]);